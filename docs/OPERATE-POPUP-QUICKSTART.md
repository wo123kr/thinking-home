# TE ìš´ì˜ íŒì—… - ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

> ì´ ê°€ì´ë“œë¥¼ ì²˜ìŒë¶€í„° ëê¹Œì§€ ë”°ë¼í•˜ë©´ TE ì½˜ì†”ì—ì„œ ì„¤ì •í•œ ì¡°ê±´ì— ë”°ë¼ ì›¹ì‚¬ì´íŠ¸ì— íŒì—…ì´ ìë™ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

---

## ì „ì²´ íë¦„ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            TE ì½˜ì†” ì„¤ì • (1íšŒ)                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  STEP 1          STEP 2              STEP 3              STEP 4             â”‚
â”‚  í´ë¼ì´ì–¸íŠ¸      í´ë¼ì´ì–¸íŠ¸ ì±„ë„     ì‘ì—… ìƒì„±           ì±„ë„ í™œì„±í™”                    â”‚
â”‚  íŒŒë¼ë¯¸í„° ë“±ë¡   ìƒì„±                (íŠ¸ë¦¬ê±° ì¡°ê±´)       & ì‘ì—… ì œì¶œ                 â”‚
â”‚                                                                             â”‚
â”‚  ìŠ¤íƒ€ì¼ ì˜µì…˜     ì±„ë„ëª… + í…œí”Œë¦¿     ëˆ„ê°€, ì–¸ì œ íŒì—…ì„   ONìœ¼ë¡œ í™œì„±í™”                  â”‚
â”‚  ì •ì˜            ì •ì˜                ë³¼ì§€ ì„¤ì •                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ì›¹ì‚¬ì´íŠ¸ ì„¤ì • (1íšŒ)                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  STEP 5          STEP 6              STEP 7                                 â”‚
â”‚  SDK ìŠ¤í¬ë¦½íŠ¸    SDK ì´ˆê¸°í™”          íŒì—… ëª¨ë“ˆ ë¡œë“œ                          â”‚
â”‚  ë¡œë“œ            ì½”ë“œ ì¶”ê°€           (operate-popup.js)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              ìë™ ë™ì‘                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì‚¬ìš©ì ë°©ë¬¸ â†’ SDKê°€ ì¡°ê±´ ì²´í¬ â†’ ì¡°ê±´ ì¶©ì¡± ì‹œ íŒì—… ìë™ í‘œì‹œ                 â”‚
â”‚                              â†’ í´ë¦­/ë‹«ê¸° ì´ë²¤íŠ¸ ìë™ ì „ì†¡                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Part 1: TE ì½˜ì†” ì„¤ì •

### STEP 1: í´ë¼ì´ì–¸íŠ¸ íŒŒë¼ë¯¸í„° ë“±ë¡ (ì„ íƒì‚¬í•­)

> **í´ë¼ì´ì–¸íŠ¸ íŒŒë¼ë¯¸í„°ë€?**
> íŒì—… ë””ìì¸ì„ TE ì½˜ì†”ì—ì„œ ì¡°ì ˆí•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë³€ìˆ˜ë“¤ì…ë‹ˆë‹¤.
> ì´ê±¸ ë“±ë¡í•´ë‘ë©´ ê°œë°œì ì—†ì´ë„ ë§ˆì¼€í„°ê°€ ìƒ‰ìƒ, í¬ê¸° ë“±ì„ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ê²½ë¡œ:** `ìš´ì˜ ì„¤ì • > í´ë¼ì´ì–¸íŠ¸ íŒŒë¼ë¯¸í„° > + ì¶”ê°€`

| íŒŒë¼ë¯¸í„° ì´ë¦„      | ë³„ì¹­           | íŒŒë¼ë¯¸í„° íƒ€ì… | ì˜µì…˜ ê°’                     | ì„¤ëª…                             |
| ------------------ | -------------- | ------------- | --------------------------- | -------------------------------- |
| `popupType`        | íŒì—… íƒ€ì…      | ë¬¸ìì—´        | modal, banner, toast, slide | íŒì—… í˜•íƒœ                        |
| `image`            | ì´ë¯¸ì§€ URL     | ë¬¸ìì—´        | -                           | íŒì—… ìƒë‹¨ ì´ë¯¸ì§€                 |
| `title`            | ì œëª©           | ë¬¸ìì—´        | -                           | íŒì—… ì œëª©                        |
| `body`             | ë³¸ë¬¸           | ë¬¸ìì—´        | -                           | íŒì—… ë‚´ìš©                        |
| `primaryButton`    | ë©”ì¸ ë²„íŠ¼      | ë¬¸ìì—´        | -                           | ë²„íŠ¼ í…ìŠ¤íŠ¸                      |
| `primaryButtonUrl` | ë²„íŠ¼ ë§í¬      | ë¬¸ìì—´        | -                           | í´ë¦­ ì‹œ ì´ë™ URL                 |
| `secondaryButton`  | ë³´ì¡° ë²„íŠ¼      | ë¬¸ìì—´        | -                           | ë³´ì¡° ë²„íŠ¼ í…ìŠ¤íŠ¸                 |
| `backgroundColor`  | ë°°ê²½ìƒ‰         | ë¬¸ìì—´        | -                           | íŒì—… ë°°ê²½ìƒ‰ (ê¸°ë³¸: #ffffff)      |
| `primaryColor`     | ë²„íŠ¼ìƒ‰         | ë¬¸ìì—´        | -                           | ë©”ì¸ ë²„íŠ¼ ìƒ‰ìƒ (ê¸°ë³¸: #4F46E5)   |
| `borderRadius`     | ëª¨ì„œë¦¬ ë‘¥ê¸€ê¸°  | ë¬¸ìì—´        | -                           | íŒì—… ëª¨ì„œë¦¬ (ê¸°ë³¸: 12px)         |
| `titleColor`       | ì œëª© ìƒ‰ìƒ      | ë¬¸ìì—´        | -                           | ì œëª© í…ìŠ¤íŠ¸ ìƒ‰ìƒ (ê¸°ë³¸: #333333) |
| `titleFontSize`    | ì œëª© ê¸€ì í¬ê¸° | ë¬¸ìì—´        | -                           | ì œëª© í°íŠ¸ í¬ê¸° (ê¸°ë³¸: 18px)      |
| `bodyColor`        | ë³¸ë¬¸ ìƒ‰ìƒ      | ë¬¸ìì—´        | -                           | ë³¸ë¬¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ (ê¸°ë³¸: #666666) |
| `bodyFontSize`     | ë³¸ë¬¸ ê¸€ì í¬ê¸° | ë¬¸ìì—´        | -                           | ë³¸ë¬¸ í°íŠ¸ í¬ê¸° (ê¸°ë³¸: 14px)      |
| `imageWidth`       | ì´ë¯¸ì§€ ë„ˆë¹„    | ë¬¸ìì—´        | -                           | ì´ë¯¸ì§€ ë„ˆë¹„ (ê¸°ë³¸: 100%)         |
| `imageHeight`      | ì´ë¯¸ì§€ ë†’ì´    | ë¬¸ìì—´        | -                           | ì´ë¯¸ì§€ ë†’ì´ (ê¸°ë³¸: auto)         |
| `imageFit`         | ì´ë¯¸ì§€ ë§ì¶¤    | ë¬¸ìì—´        | cover, contain, fill, none  | ì´ë¯¸ì§€ ë§ì¶¤ ë°©ì‹                 |
| `bannerBackground` | ë°°ë„ˆ ë°°ê²½      | ë¬¸ìì—´        | -                           | ë°°ë„ˆ ë°°ê²½ìƒ‰/ê·¸ë¼ë°ì´ì…˜ (ê¸°ë³¸: ë³´ë¼ ê·¸ë¼ë°ì´ì…˜) |
| `bannerTextColor`  | ë°°ë„ˆ í…ìŠ¤íŠ¸ìƒ‰  | ë¬¸ìì—´        | -                           | ë°°ë„ˆ í…ìŠ¤íŠ¸ ìƒ‰ìƒ (ê¸°ë³¸: #ffffff) |
| `bannerBtnTextColor` | ë°°ë„ˆ ë²„íŠ¼ í…ìŠ¤íŠ¸ìƒ‰ | ë¬¸ìì—´   | -                           | ë°°ë„ˆ ë²„íŠ¼ ê¸€ì ìƒ‰ìƒ (ê¸°ë³¸: #667eea) |

---

### STEP 2: í´ë¼ì´ì–¸íŠ¸ ì±„ë„ ìƒì„±

> **ì±„ë„ì´ë€?**
> íŒì—… ì½˜í…ì¸ ì˜ "í‹€"ì…ë‹ˆë‹¤. ì–´ë–¤ í•„ë“œë“¤ì„ ì‚¬ìš©í• ì§€ ì •ì˜í•©ë‹ˆë‹¤.

**ê²½ë¡œ:** `ìš´ì˜ ì„¤ì • > ì—°ë™ ì„¤ì • > í‘¸ì‹œ ì‘ì—… > í´ë¼ì´ì–¸íŠ¸ ì±„ë„ > + ìƒì„±`

#### 2-1. ê¸°ë³¸ ì •ë³´ ì…ë ¥

| í•„ë“œ        | ì…ë ¥ê°’           | ì„¤ëª…                           |
| ----------- | ---------------- | ------------------------------ |
| ì±„ë„ ì´ë¦„   | `homepage_popup` | ì›í•˜ëŠ” ì´ë¦„ (ì˜ë¬¸, ì–¸ë”ìŠ¤ì½”ì–´) |
| ë©”ì‹œì§€ íƒ€ì… | `popup`          | íŒì—…ì„ì„ êµ¬ë¶„í•˜ëŠ” ì‹ë³„ì       |
| ì „ì†¡ ID     | `ê²ŒìŠ¤íŠ¸ ID`      | ì‚¬ìš©ì ì‹ë³„ ë°©ì‹ ì„ íƒ          |

#### 2-2. ì½˜í…ì¸  í…œí”Œë¦¿ ì„¤ì •

`+ í–‰ ì¶”ê°€` ë²„íŠ¼ìœ¼ë¡œ ì•„ë˜ í•„ë“œë“¤ì„ ì¶”ê°€í•©ë‹ˆë‹¤:

| í•„ë“œ               | ë³„ì¹­             | ì…ë ¥ ë°©ì‹ | íŒíŠ¸ ë¬¸êµ¬          | í•„ìˆ˜ ì—¬ë¶€ |
| ------------------ | ---------------- | --------- | ------------------ | --------- |
| `popupType`        | íŒì—… íƒ€ì…        | ë‹¨ì¼ ì„ íƒ | -                  | ë¹„í•„ìˆ˜    |
| `image`            | ì´ë¯¸ì§€ URL       | í…ìŠ¤íŠ¸    | íŒì—… ì´ë¯¸ì§€ URL    | ë¹„í•„ìˆ˜    |
| `title`            | íŒì—… ì œëª©        | í…ìŠ¤íŠ¸    | -                  | ë¹„í•„ìˆ˜    |
| `body`             | íŒì—… ë³¸ë¬¸        | í…ìŠ¤íŠ¸    | -                  | ë¹„í•„ìˆ˜    |
| `primaryButton`    | ë©”ì¸ ë²„íŠ¼ í…ìŠ¤íŠ¸ | í…ìŠ¤íŠ¸    | ë©”ì¸ ë²„íŠ¼ í…ìŠ¤íŠ¸   | ë¹„í•„ìˆ˜    |
| `primaryButtonUrl` | ë²„íŠ¼ ë§í¬        | í…ìŠ¤íŠ¸    | í´ë¦­ ì‹œ ì´ë™í•  URL | ë¹„í•„ìˆ˜    |
| `secondaryButton`  | ë³´ì¡° ë²„íŠ¼ í…ìŠ¤íŠ¸ | í…ìŠ¤íŠ¸    | -                  | ë¹„í•„ìˆ˜    |

> **ğŸ’¡ íŒ:** ë””ìì¸ ì˜µì…˜ë“¤ë„ ì¶”ê°€í•˜ë ¤ë©´ `style`, `styleText` ê°ì²´ ê·¸ë£¹ í•„ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

#### 2-3. ì €ì¥

`ì €ì¥` ë²„íŠ¼ í´ë¦­

---

### STEP 3: ì‘ì—… ìƒì„± (íŠ¸ë¦¬ê±° ê·œì¹™ ì„¤ì •)

> **ì‘ì—…ì´ë€?**
> "ëˆ„ê°€, ì–¸ì œ, ì–´ë–¤ íŒì—…ì„ ë³¼ì§€" ì •ì˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

**ê²½ë¡œ:** `ìš´ì˜ > + ì‘ì—… ìƒì„±`

#### 3-1. ê¸°ë³¸ ì •ë³´

| í•„ë“œ      | ì…ë ¥ê°’                            |
| --------- | --------------------------------- |
| ì‘ì—… ì´ë¦„ | `ì²« ìŠ¤í¬ë¡¤ ì‹œ íŒì—…` (ì›í•˜ëŠ” ì´ë¦„) |

#### 3-2. í‘¸ì‹œ ì‹œì  ì„¤ì •

| í•„ë“œ      | ì„ íƒ/ì…ë ¥ê°’       |
| --------- | ----------------- |
| í‘¸ì‹œ ìœ í˜• | `íŠ¸ë¦¬ê±° - A ì™„ë£Œ` |

#### 3-3. íŠ¸ë¦¬ê±° ê·œì¹™ (ì–¸ì œ íŒì—…ì„ ë³´ì—¬ì¤„ì§€)

**ì˜ˆì‹œ: ì‚¬ìš©ìê°€ ìŠ¤í¬ë¡¤ 1íšŒ í–ˆì„ ë•Œ**

| ì„¤ì •   | ê°’         |
| ------ | ---------- |
| ì™„ë£Œ A | âœ“          |
| ì´ë²¤íŠ¸ | `ìŠ¤í¬ë¡¤`   |
| ì¡°ê±´   | `íšŸìˆ˜ = 1` |

> **ë‹¤ë¥¸ íŠ¸ë¦¬ê±° ì¡°ê±´ ì˜ˆì‹œ:**
>
> - í˜ì´ì§€ ë°©ë¬¸: `pageview` ì´ë²¤íŠ¸
> - íŠ¹ì • ë²„íŠ¼ í´ë¦­: `click` ì´ë²¤íŠ¸ + `element_id = "signup-btn"` ì¡°ê±´
> - 3ì´ˆ ì²´ë¥˜: `pageview` + `stay_time >= 3`

#### 3-4. íƒ€ê²Ÿ ìœ ì €

| ì„¤ì • | ê°’                              |
| ---- | ------------------------------- |
| íƒ€ê²Ÿ | `ëª¨ë“  ìœ ì €` ë˜ëŠ” íŠ¹ì • ì¡°ê±´ ì„¤ì • |

#### 3-5. í‘¸ì‹œ êµ¬ì„±

| ì„¤ì •      | ê°’                                      |
| --------- | --------------------------------------- |
| ì±„ë„ ì„ íƒ | `í´ë¼ì´ì–¸íŠ¸ ì±„ë„`                       |
| ì±„ë„ ì´ë¦„ | `homepage_popup` (STEP 2ì—ì„œ ë§Œë“  ì±„ë„) |

#### 3-6. í‘¸ì‹œ ì½˜í…ì¸ 

íŒì—…ì— í‘œì‹œë  ì‹¤ì œ ë‚´ìš©ì„ ì…ë ¥í•©ë‹ˆë‹¤:

| í•„ë“œ             | ì…ë ¥ê°’ (ì˜ˆì‹œ)                               |
| ---------------- | ------------------------------------------- |
| popupType        | `modal`                                     |
| image            | `https://example.com/promo.jpg`             |
| title            | `ì‹ ê·œ ê°€ì… í˜œíƒ`                            |
| body             | `ì§€ê¸ˆ ê°€ì…í•˜ì‹œë©´ 20% í• ì¸ ì¿ í°ì„ ë“œë¦½ë‹ˆë‹¤!` |
| primaryButton    | `ì¿ í° ë°›ê¸°`                                 |
| primaryButtonUrl | `https://example.com/signup`                |
| secondaryButton  | `ë‚˜ì¤‘ì—`                                    |

#### 3-7. í‘¸ì‹œ ë¹ˆë„

| ì„¤ì •                        | ê°’                          |
| --------------------------- | --------------------------- |
| ë‹¨ì¼ ì‹¤í–‰ ë‚´ ìµœëŒ€ í‘¸ì‹œ íšŸìˆ˜ | `1íšŒ` (ê°™ì€ ì„¸ì…˜ì—ì„œ 1ë²ˆë§Œ) |

#### 3-8. ì €ì¥ ë° ì œì¶œ

1. `ì´ˆì•ˆ ì €ì¥` í´ë¦­
2. í…ŒìŠ¤íŠ¸ í›„ `ì €ì¥ ë° ì œì¶œ` í´ë¦­

---

### STEP 4: ì±„ë„ í™œì„±í™”

**ê²½ë¡œ:** `ìš´ì˜ ì„¤ì • > ì—°ë™ ì„¤ì • > í‘¸ì‹œ ì‘ì—… > í´ë¼ì´ì–¸íŠ¸ ì±„ë„`

1. ë§Œë“  ì±„ë„(`homepage_popup`) ì°¾ê¸°
2. **ì±„ë„ ìŠ¤ìœ„ì¹˜** ì»¬ëŸ¼ì—ì„œ í† ê¸€ì„ **ON**ìœ¼ë¡œ ë³€ê²½

---

## Part 2: ì›¹ì‚¬ì´íŠ¸ ì„¤ì •

### STEP 5: SDK ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ

HTML `<head>` ë˜ëŠ” `<body>` ëì— SDK ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤:

```html
<!-- ThinkingData SDK ë¡œë“œ (í•„ìˆ˜) -->
<script src="https://sdk.thinkingdata.cn/tdapp/tdapp.min.js"></script>

<!-- ë˜ëŠ” ìš´ì˜ SDK ì „ì²´ ë²ˆë“¤ ì‚¬ìš© -->
<script src="https://cdn.thinkingdata.cn/tdcore.umd.min.js"></script>
<script src="https://cdn.thinkingdata.cn/tdremoteconfig.umd.min.js"></script>
<script src="https://cdn.thinkingdata.cn/tdstrategy.umd.min.js"></script>
```

---

### STEP 6: SDK ì´ˆê¸°í™” ì½”ë“œ

```html
<script>
  // SDK ì´ˆê¸°í™”
  window.TDApp.init({
    appId: "YOUR_APP_ID", // TE ì½˜ì†”ì—ì„œ í™•ì¸
    serverUrl: "YOUR_SERVER_URL", // ì˜ˆ: https://your-domain.thinkingdata.cn
    enableLog: true, // ê°œë°œ ì‹œ true, ìš´ì˜ ì‹œ false
    mode: "none", // 'debug': í…ŒìŠ¤íŠ¸ ëª¨ë“œ
    autoTrack: {
      pageShow: true,
      pageHide: true,
    },
    // â­ í•µì‹¬: íŠ¸ë¦¬ê±° ë¦¬ìŠ¤ë„ˆ ì„¤ì •
    triggerListener: function (result) {
      console.log("ğŸ“¬ ê³¼ì œ íŠ¸ë¦¬ê±° ìˆ˜ì‹ :", result);

      // íŒì—… í‘œì‹œ (TEPopupì´ ë¡œë“œëœ ê²½ìš°)
      if (window.TEPopup) {
        window.TEPopup.show(result);
      }
    },
  });
</script>
```

---

### STEP 7: íŒì—… ëª¨ë“ˆ ë¡œë“œ

#### ë°©ë²• A: ë²ˆë“¤ íŒŒì¼ ì‚¬ìš© (ê¶Œì¥)

```html
<!-- íŒì—… ëª¨ë“ˆ ë¡œë“œ -->
<script src="/path/to/operate-popup.js"></script>

<script>
  // ìë™ ì´ˆê¸°í™”ë¨ - ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”
</script>
```

#### ë°©ë²• B: ì „ì²´ í†µí•© ì½”ë“œ (ë³µì‚¬í•´ì„œ ë°”ë¡œ ì‚¬ìš©)

```html
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Website</title>

    <!-- ThinkingData SDK -->
    <script src="https://sdk.thinkingdata.cn/tdapp/tdapp.min.js"></script>
  </head>
  <body>
    <!-- í˜ì´ì§€ ì½˜í…ì¸  -->
    <h1>Welcome!</h1>

    <!-- SDK ì´ˆê¸°í™” + íŒì—… ëª¨ë“ˆ -->
    <script>
      (function () {
        // ==========================================
        // 1. íŒì—… ìŠ¤íƒ€ì¼ (CSS)
        // ==========================================
        const styles = document.createElement("style");
        styles.textContent = `
      .te-popup-overlay {
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.5);
        z-index: 99998;
        opacity: 0;
        transition: opacity 0.3s;
      }
      .te-popup-overlay.te-show { opacity: 1; }

      .te-popup-modal {
        position: fixed;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%) scale(0.9);
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        max-width: 480px;
        width: 90%;
        overflow: hidden;
        opacity: 0;
        transition: all 0.3s;
        z-index: 99999;
        font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      }
      .te-popup-modal.te-show {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
      }
      .te-popup-modal .te-popup-close {
        position: absolute;
        top: 12px; right: 12px;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: #666;
        padding: 8px;
        line-height: 1;
      }
      .te-popup-modal .te-popup-image {
        width: 100%;
        display: block;
      }
      .te-popup-modal .te-popup-content {
        padding: 24px;
      }
      .te-popup-modal .te-popup-title {
        margin: 0 0 12px;
        font-size: 18px;
        font-weight: 600;
        color: #333;
      }
      .te-popup-modal .te-popup-body {
        margin: 0 0 16px;
        font-size: 14px;
        color: #666;
        line-height: 1.5;
      }
      .te-popup-modal .te-popup-buttons {
        display: flex;
        gap: 12px;
        justify-content: center;
      }
      .te-popup-btn {
        display: inline-block;
        padding: 12px 24px;
        border: none;
        border-radius: 6px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        text-decoration: none;
        transition: all 0.2s;
      }
      .te-popup-btn-primary {
        background: #4F46E5;
        color: #fff;
      }
      .te-popup-btn-primary:hover { background: #4338CA; }
      .te-popup-btn-secondary {
        background: #E5E7EB;
        color: #374151;
      }
      .te-popup-btn-secondary:hover { background: #D1D5DB; }

      /* ë°°ë„ˆ ìŠ¤íƒ€ì¼ */
      .te-popup-banner {
        position: fixed;
        left: 0; right: 0;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #fff;
        padding: 16px 24px;
        display: flex;
        align-items: center;
        gap: 16px;
        transform: translateY(-100%);
        transition: transform 0.4s;
        z-index: 99999;
      }
      .te-popup-banner.te-position-top { top: 0; }
      .te-popup-banner.te-position-bottom { bottom: 0; top: auto; transform: translateY(100%); }
      .te-popup-banner.te-show { transform: translateY(0); }
      .te-popup-banner .te-popup-close {
        position: static;
        color: rgba(255,255,255,0.8);
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
      }
      .te-popup-banner .te-popup-title { color: #fff; margin: 0; font-size: 16px; }
      .te-popup-banner .te-popup-body { color: rgba(255,255,255,0.9); margin: 0; flex: 1; }
      .te-popup-banner .te-popup-btn { background: #fff; color: #667eea; }

      /* í† ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼ */
      .te-popup-toast {
        position: fixed;
        bottom: 24px; right: 24px;
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        max-width: 360px;
        width: calc(100% - 48px);
        overflow: hidden;
        transform: translateX(120%);
        transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        z-index: 99999;
        font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      }
      .te-popup-toast.te-show { transform: translateX(0); }
      .te-popup-toast .te-popup-close {
        position: absolute;
        top: 8px; right: 8px;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: #666;
      }
      .te-popup-toast .te-popup-content { padding: 16px; }
      .te-popup-toast .te-popup-title { font-size: 15px; margin: 0 0 8px; color: #333; }
      .te-popup-toast .te-popup-body { font-size: 13px; margin: 0 0 12px; color: #666; }
      .te-popup-toast .te-popup-btn { width: 100%; }
    `;
        document.head.appendChild(styles);

        // ==========================================
        // 2. íŒì—… ëª¨ë“ˆ
        // ==========================================
        let currentPopup = null;
        let currentOverlay = null;

        function closePopup() {
          if (currentPopup) {
            currentPopup.classList.remove("te-show");
            if (currentOverlay) currentOverlay.classList.remove("te-show");
            setTimeout(() => {
              currentPopup?.remove();
              currentOverlay?.remove();
              currentPopup = null;
              currentOverlay = null;
            }, 400);
          }
        }

        function showPopup(result) {
          closePopup();

          const content = result.content || {};
          const style = content.style || {};
          const styleText = content.styleText || {};
          const merged = { ...style, ...styleText };

          const popupType = content.popupType || "modal";

          // Modal íƒ€ì…
          if (popupType === "modal") {
            const overlay = document.createElement("div");
            overlay.className = "te-popup-overlay";
            overlay.onclick = closePopup;

            const modal = document.createElement("div");
            modal.className = "te-popup te-popup-modal";

            if (merged.maxWidth) modal.style.maxWidth = merged.maxWidth;
            if (merged.backgroundColor)
              modal.style.backgroundColor = merged.backgroundColor;
            if (merged.borderRadius)
              modal.style.borderRadius = merged.borderRadius;

            let html =
              '<button class="te-popup-close" onclick="window.TEPopup.close()">&times;</button>';

            if (content.image) {
              html +=
                '<img class="te-popup-image" src="' +
                content.image +
                '" style="';
              if (merged.imageWidth) html += "width:" + merged.imageWidth + ";";
              if (merged.imageHeight)
                html += "height:" + merged.imageHeight + ";";
              if (merged.imageFit)
                html += "object-fit:" + merged.imageFit + ";";
              html += '">';
            }

            html += '<div class="te-popup-content">';
            if (content.title) {
              html += '<h3 class="te-popup-title" style="';
              if (merged.titleColor) html += "color:" + merged.titleColor + ";";
              if (merged.titleFontSize)
                html += "font-size:" + merged.titleFontSize + ";";
              html += '">' + content.title + "</h3>";
            }
            if (content.body) {
              html += '<p class="te-popup-body" style="';
              if (merged.bodyColor) html += "color:" + merged.bodyColor + ";";
              if (merged.bodyFontSize)
                html += "font-size:" + merged.bodyFontSize + ";";
              html += '">' + content.body + "</p>";
            }
            if (content.primaryButton || content.secondaryButton) {
              html += '<div class="te-popup-buttons">';
              if (content.secondaryButton) {
                html +=
                  '<button class="te-popup-btn te-popup-btn-secondary" onclick="window.TEPopup.close()">' +
                  content.secondaryButton +
                  "</button>";
              }
              if (content.primaryButton) {
                if (content.primaryButtonUrl) {
                  html +=
                    '<a href="' +
                    content.primaryButtonUrl +
                    '" class="te-popup-btn te-popup-btn-primary" style="';
                } else {
                  html +=
                    '<button class="te-popup-btn te-popup-btn-primary" onclick="window.TEPopup.close()" style="';
                }
                if (merged.primaryColor)
                  html += "background-color:" + merged.primaryColor + ";";
                html += '">' + content.primaryButton;
                html += content.primaryButtonUrl ? "</a>" : "</button>";
              }
              html += "</div>";
            }
            html += "</div>";

            modal.innerHTML = html;
            document.body.appendChild(overlay);
            document.body.appendChild(modal);
            currentPopup = modal;
            currentOverlay = overlay;

            requestAnimationFrame(() => {
              overlay.classList.add("te-show");
              modal.classList.add("te-show");
            });
          }

          // Banner íƒ€ì…
          else if (popupType === "banner") {
            const position = content.position || "top";
            const banner = document.createElement("div");
            banner.className =
              "te-popup te-popup-banner te-position-" + position;

            if (merged.backgroundColor)
              banner.style.background = merged.backgroundColor;

            let html = "";
            if (content.title)
              html +=
                '<span class="te-popup-title">' + content.title + "</span>";
            if (content.body)
              html += '<span class="te-popup-body">' + content.body + "</span>";
            if (content.primaryButton) {
              html +=
                '<button class="te-popup-btn" onclick="alert(\'clicked\')">' +
                content.primaryButton +
                "</button>";
            }
            html +=
              '<button class="te-popup-close" onclick="window.TEPopup.close()">&times;</button>';

            banner.innerHTML = html;
            document.body.appendChild(banner);
            currentPopup = banner;

            requestAnimationFrame(() => banner.classList.add("te-show"));
          }

          // Toast íƒ€ì…
          else if (popupType === "toast") {
            const toast = document.createElement("div");
            toast.className = "te-popup te-popup-toast";

            if (merged.backgroundColor)
              toast.style.backgroundColor = merged.backgroundColor;
            if (merged.borderRadius)
              toast.style.borderRadius = merged.borderRadius;

            let html =
              '<button class="te-popup-close" onclick="window.TEPopup.close()">&times;</button>';
            html += '<div class="te-popup-content">';
            if (content.title)
              html += '<h3 class="te-popup-title">' + content.title + "</h3>";
            if (content.body)
              html += '<p class="te-popup-body">' + content.body + "</p>";
            if (content.primaryButton) {
              html +=
                '<button class="te-popup-btn te-popup-btn-primary" onclick="window.TEPopup.close()">' +
                content.primaryButton +
                "</button>";
            }
            html += "</div>";

            toast.innerHTML = html;
            document.body.appendChild(toast);
            currentPopup = toast;

            requestAnimationFrame(() => toast.classList.add("te-show"));
          }

          // ESC í‚¤ë¡œ ë‹«ê¸°
          const escHandler = (e) => {
            if (e.key === "Escape") {
              closePopup();
              document.removeEventListener("keydown", escHandler);
            }
          };
          document.addEventListener("keydown", escHandler);

          // ì´ë²¤íŠ¸ ì „ì†¡
          if (result.opsProperties && window.TDAnalytics) {
            window.TDAnalytics.track("ops_show", result.opsProperties);
          }
        }

        // ì „ì—­ API
        window.TEPopup = {
          show: showPopup,
          close: closePopup,
        };

        // ==========================================
        // 3. SDK ì´ˆê¸°í™”
        // ==========================================
        window.TDApp.init({
          appId: "YOUR_APP_ID", // âš ï¸ ì‹¤ì œ ê°’ìœ¼ë¡œ ë³€ê²½
          serverUrl: "YOUR_SERVER_URL", // âš ï¸ ì‹¤ì œ ê°’ìœ¼ë¡œ ë³€ê²½
          enableLog: true,
          mode: "none",
          autoTrack: {
            pageShow: true,
            pageHide: true,
          },
          triggerListener: function (result) {
            console.log("ğŸ“¬ ê³¼ì œ ìˆ˜ì‹ :", result);
            window.TEPopup.show(result);
          },
        });

        console.log("âœ… SDK ë° íŒì—… ëª¨ë“ˆ ì´ˆê¸°í™” ì™„ë£Œ");
      })();
    </script>
  </body>
</html>
```

---

## Part 3: í…ŒìŠ¤íŠ¸í•˜ê¸°

### 1. ë””ë²„ê·¸ ëª¨ë“œë¡œ í…ŒìŠ¤íŠ¸

SDK ì´ˆê¸°í™” ì‹œ `mode: 'debug'`ë¡œ ì„¤ì •í•˜ë©´ TE ì½˜ì†”ì—ì„œ ë°”ë¡œ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```javascript
window.TDApp.init({
  // ...
  mode: "debug", // í…ŒìŠ¤íŠ¸ ëª¨ë“œ
  // ...
});
```

### 2. TE ì½˜ì†”ì—ì„œ í…ŒìŠ¤íŠ¸ ë°œì†¡

1. ì‘ì—… í¸ì§‘ í™”ë©´ì—ì„œ `í…ŒìŠ¤íŠ¸ ë°œì†¡` ë²„íŠ¼ í´ë¦­
2. í…ŒìŠ¤íŠ¸ ê¸°ê¸° ID ì…ë ¥
3. ë°œì†¡ í›„ ì›¹ì‚¬ì´íŠ¸ì—ì„œ íŒì—… í™•ì¸

### 3. ì´ë²¤íŠ¸ í™•ì¸

TE ì½˜ì†” > ë¶„ì„ > ì´ë²¤íŠ¸ ë¶„ì„ì—ì„œ ì•„ë˜ ì´ë²¤íŠ¸ë“¤ì´ ê¸°ë¡ë˜ëŠ”ì§€ í™•ì¸:

| ì´ë²¤íŠ¸ëª…      | ì‹œì          |
| ------------- | ------------ |
| `ops_receive` | ê³¼ì œ ìˆ˜ì‹  ì‹œ |
| `ops_show`    | íŒì—… í‘œì‹œ ì‹œ |
| `ops_click`   | ë²„íŠ¼ í´ë¦­ ì‹œ |
| `ops_close`   | íŒì—… ë‹«ì„ ë•Œ |

---

## Part 4: FAQ

### Q1: í´ë¼ì´ì–¸íŠ¸ íŒŒë¼ë¯¸í„°ëŠ” ê¼­ ë“±ë¡í•´ì•¼ í•˜ë‚˜ìš”?

**A:** ì•„ë‹ˆìš”, ì„ íƒì‚¬í•­ì…ë‹ˆë‹¤.

- ë“±ë¡í•˜ë©´: TE ì½˜ì†”ì—ì„œ ì‘ì—… ìƒì„± ì‹œ ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ ì„ íƒ ê°€ëŠ¥
- ë“±ë¡ ì•ˆ í•˜ë©´: JSONìœ¼ë¡œ ì§ì ‘ ì…ë ¥í•´ì•¼ í•¨

### Q2: íŒì—…ì´ ì•ˆ ëœ¨ëŠ”ë°ìš”?

**A:** ì²´í¬ë¦¬ìŠ¤íŠ¸:

1. ì±„ë„ ìŠ¤ìœ„ì¹˜ê°€ ONì¸ì§€ í™•ì¸
2. ì‘ì—…ì´ "ì œì¶œë¨" ìƒíƒœì¸ì§€ í™•ì¸
3. ë¸Œë¼ìš°ì € ì½˜ì†”ì— SDK ë¡œë“œ ì˜¤ë¥˜ê°€ ìˆëŠ”ì§€ í™•ì¸
4. `console.log(window.TDApp)` ì‹¤í–‰í•´ì„œ undefinedê°€ ì•„ë‹Œì§€ í™•ì¸

### Q3: ê°™ì€ íŒì—…ì´ ê³„ì† ëœ¹ë‹ˆë‹¤

**A:** ì‘ì—… ì„¤ì •ì—ì„œ "í‘¸ì‹œ ë¹ˆë„"ë¥¼ ì„¤ì •í•˜ì„¸ìš”:

- ë‹¨ì¼ ì‹¤í–‰ ë‚´ ìµœëŒ€ 1íšŒ
- ë˜ëŠ” "7ì¼ ë‚´ ìµœëŒ€ 1íšŒ"

### Q4: íŠ¹ì • í˜ì´ì§€ì—ì„œë§Œ íŒì—…ì„ ë³´ì—¬ì£¼ê³  ì‹¶ì–´ìš”

**A:** íŠ¸ë¦¬ê±° ì¡°ê±´ì— í˜ì´ì§€ URL ì¡°ê±´ì„ ì¶”ê°€í•˜ì„¸ìš”:

- ì´ë²¤íŠ¸: `pageview`
- ì¡°ê±´: `url_path = "/products"`

---

## Part 5: íŒì—… íƒ€ì…ë³„ JSON ì˜ˆì‹œ

### Modal (ê¸°ë³¸)

```json
{
  "popupType": "modal",
  "image": "https://example.com/banner.jpg",
  "title": "íŠ¹ë³„ í”„ë¡œëª¨ì…˜",
  "body": "ì§€ê¸ˆ êµ¬ë§¤í•˜ì‹œë©´ 30% í• ì¸!",
  "primaryButton": "ì§€ê¸ˆ êµ¬ë§¤",
  "primaryButtonUrl": "https://example.com/shop",
  "secondaryButton": "ë‚˜ì¤‘ì—"
}
```

### Banner (ìƒë‹¨/í•˜ë‹¨)

```json
{
  "popupType": "banner",
  "position": "top",
  "title": "ë¬´ë£Œ ë°°ì†¡",
  "body": "5ë§Œì› ì´ìƒ êµ¬ë§¤ ì‹œ",
  "primaryButton": "ìì„¸íˆ ë³´ê¸°",
  "style": {
    "bannerBackground": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
    "bannerTextColor": "#ffffff",
    "bannerBtnTextColor": "#667eea"
  }
}
```

### Toast (ìš°ì¸¡ í•˜ë‹¨)

```json
{
  "popupType": "toast",
  "title": "ìƒˆ ë©”ì‹œì§€",
  "body": "ê³ ê°ì„¼í„°ì—ì„œ ë‹µë³€ì´ ë„ì°©í–ˆìŠµë‹ˆë‹¤.",
  "primaryButton": "í™•ì¸í•˜ê¸°"
}
```

---

## ìš”ì•½ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] STEP 1: í´ë¼ì´ì–¸íŠ¸ íŒŒë¼ë¯¸í„° ë“±ë¡ (ì„ íƒ)
- [ ] STEP 2: í´ë¼ì´ì–¸íŠ¸ ì±„ë„ ìƒì„±
- [ ] STEP 3: ì‘ì—… ìƒì„± (íŠ¸ë¦¬ê±° ì¡°ê±´ + ì½˜í…ì¸ )
- [ ] STEP 4: ì±„ë„ ìŠ¤ìœ„ì¹˜ ON
- [ ] STEP 5-7: ì›¹ì‚¬ì´íŠ¸ì— SDK + íŒì—… ì½”ë“œ ì¶”ê°€
- [ ] í…ŒìŠ¤íŠ¸ ë°œì†¡ìœ¼ë¡œ í™•ì¸
- [ ] ì‘ì—… ì œì¶œ (ìš´ì˜ ì‹œì‘)
