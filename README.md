# ThinkingData 웹사이트 트래킹 시스템

## 개요
이 프로젝트는 [ThinkingData](https://www.thinkingdata.kr) 기반의 웹사이트 행동/속성 트래킹 시스템입니다. 모든 트래킹 로직은 **ES 모듈 패턴**으로 일관성 있게 구성되어 있으며, 유지보수성과 확장성이 뛰어납니다.

---

## 주요 트래킹 항목 및 수집 시점

| 트래킹 항목      | 언제/어떻게 수집되는가?                                                                 |
|------------------|--------------------------------------------------------------------------------------|
| **클릭**         | 버튼, 링크, 메뉴 등 주요 클릭 발생 시 (자동/커스텀 선택 가능)                          |
| **폼**           | 폼 제출 시(개인정보 마스킹, 동의 체크 등 포함), 유효성 오류 발생 시                    |
| **팝업**         | 팝업이 열릴 때, 닫힐 때(버튼, ESC 등), "혜택 확인하기" 등 주요 액션 발생 시           |
| **리소스 다운로드** | PDF, 문서, 이미지, 동영상 등 주요 파일 다운로드 클릭 시                              |
| **스크롤**       | 25%, 50%, 75%, 90%, 100% 등 임계값 도달 시                                             |
| **비디오**       | YouTube/HTML5 비디오 재생, 일시정지, 종료, 진행률(25/50/75/90%) 등 이벤트 발생 시      |
| **페이지뷰**     | 페이지 진입 시(명시적 호출), SPA 라우트 변경 시                                        |
| **세션**         | 페이지 진입, 30분 이상 비활동, UTM/사용자ID 변경 등 세션 분리 조건 발생 시             |
| **유저 속성**    | 최초 방문, 세션/페이지/행동 누적, 관심사/선호도/생명주기 등 속성 변화 시              |

---

## 구조 및 사용법

- **main.js**: 모든 트래킹 모듈을 import/초기화하는 진입점
- **config.js**: 중앙화된 설정 관리(모듈별 on/off, 세부 옵션 등)
- **core/**: SDK 초기화, 세션/유틸리티 함수 등 핵심 로직
- **tracking/**: 각 트래킹별 모듈(click, form, popup, resource, scroll, video, exit, pageview)
- **user-attributes.js**: 유저 속성 추적 시스템(관심사, 세션, 행동 누적 등)

### 사용 예시
```js
import { initFormTracking } from './tracking/form.js';
initFormTracking();
```
> main.js에서 각 모듈별로 1회만 호출하면 자동으로 트래킹이 동작합니다.

---

## 주요 특징
- **ES 모듈 패턴**: 전역 오염 없이 유지보수/확장 용이
- **중앙 설정(config.js)**: 모듈별 on/off, 세부 옵션, 디버그 등 일괄 관리
- **SPA 대응**: 라우트 변경 시에도 트래킹 정상 동작
- **개인정보 보호**: 폼 제출 시 개인정보 마스킹, 동의 체크 등 내장
- **유저 속성 자동화**: 방문/세션/행동 기반 관심사, 선호도, 생명주기 등 자동 추적
- **ThinkingData SDK**: 공식 JS SDK 기반, 서버와 실시간 연동

---

## 커스텀/확장
- 새로운 트래킹 항목 추가, 속성 확장, 이벤트 네이밍 등은 각 모듈에서 손쉽게 커스터마이즈 가능
- config.js에서 모듈별 옵션/임계값/플랫폼 등 자유롭게 조정

---

## 문의
- 담당: 진우(jinwoo@thinkingdata.kr)
- 공식사이트: https://www.thinkingdata.kr 