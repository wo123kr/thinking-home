# ThinkingData ì›¹ì‚¬ì´íŠ¸ íŠ¸ë˜í‚¹ ì‹œìŠ¤í…œ

## ê°œìš”
ì´ í”„ë¡œì íŠ¸ëŠ” [ThinkingData](https://www.thinkingdata.kr) ê¸°ë°˜ì˜ ì›¹ì‚¬ì´íŠ¸ í–‰ë™/ì†ì„± íŠ¸ë˜í‚¹ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ëª¨ë“  íŠ¸ë˜í‚¹ ë¡œì§ì€ **ES ëª¨ë“ˆ íŒ¨í„´**ìœ¼ë¡œ ì¼ê´€ì„± ìˆê²Œ êµ¬ì„±ë˜ì–´ ìˆìœ¼ë©°, ìœ ì§€ë³´ìˆ˜ì„±ê³¼ í™•ì¥ì„±ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.

---

## ì£¼ìš” íŠ¸ë˜í‚¹ í•­ëª© ë° ìˆ˜ì§‘ ì‹œì 

| íŠ¸ë˜í‚¹ í•­ëª©      | ì–¸ì œ/ì–´ë–»ê²Œ ìˆ˜ì§‘ë˜ëŠ”ê°€?                                                                 |
|------------------|--------------------------------------------------------------------------------------|
| **í´ë¦­**         | ë²„íŠ¼, ë§í¬, ë©”ë‰´ ë“± ì£¼ìš” í´ë¦­ ë°œìƒ ì‹œ (ìë™/ì»¤ìŠ¤í…€ ì„ íƒ ê°€ëŠ¥)                          |
| **í¼**           | í¼ ì œì¶œ ì‹œ(ê°œì¸ì •ë³´ ë§ˆìŠ¤í‚¹, ë™ì˜ ì²´í¬ ë“± í¬í•¨), ìœ íš¨ì„± ì˜¤ë¥˜ ë°œìƒ ì‹œ                    |
| **íŒì—…**         | íŒì—…ì´ ì—´ë¦´ ë•Œ, ë‹«í ë•Œ(ë²„íŠ¼, ESC ë“±), "í˜œíƒ í™•ì¸í•˜ê¸°" ë“± ì£¼ìš” ì•¡ì…˜ ë°œìƒ ì‹œ           |
| **ë¦¬ì†ŒìŠ¤ ë‹¤ìš´ë¡œë“œ** | PDF, ë¬¸ì„œ, ì´ë¯¸ì§€, ë™ì˜ìƒ ë“± ì£¼ìš” íŒŒì¼ ë‹¤ìš´ë¡œë“œ í´ë¦­ ì‹œ                              |
| **ìŠ¤í¬ë¡¤**       | 25%, 50%, 75%, 90%, 100% ë“± ì„ê³„ê°’ ë„ë‹¬ ì‹œ                                             |
| **ë¹„ë””ì˜¤**       | YouTube/HTML5 ë¹„ë””ì˜¤ ì¬ìƒ, ì¼ì‹œì •ì§€, ì¢…ë£Œ, ì§„í–‰ë¥ (25/50/75/90%) ë“± ì´ë²¤íŠ¸ ë°œìƒ ì‹œ      |
| **í˜ì´ì§€ë·°**     | í˜ì´ì§€ ì§„ì… ì‹œ(ëª…ì‹œì  í˜¸ì¶œ), SPA ë¼ìš°íŠ¸ ë³€ê²½ ì‹œ                                        |
| **ì„¸ì…˜**         | í˜ì´ì§€ ì§„ì…, 30ë¶„ ì´ìƒ ë¹„í™œë™, UTM/ì‚¬ìš©ìID ë³€ê²½ ë“± ì„¸ì…˜ ë¶„ë¦¬ ì¡°ê±´ ë°œìƒ ì‹œ             |
| **ìœ ì € ì†ì„±**    | ìµœì´ˆ ë°©ë¬¸, ì„¸ì…˜/í˜ì´ì§€/í–‰ë™ ëˆ„ì , ê´€ì‹¬ì‚¬/ì„ í˜¸ë„/ìƒëª…ì£¼ê¸° ë“± ì†ì„± ë³€í™” ì‹œ              |

---

## êµ¬ì¡° ë° ì‚¬ìš©ë²•

- **main.js**: ëª¨ë“  íŠ¸ë˜í‚¹ ëª¨ë“ˆì„ import/ì´ˆê¸°í™”í•˜ëŠ” ì§„ì…ì 
- **config.js**: ì¤‘ì•™í™”ëœ ì„¤ì • ê´€ë¦¬(ëª¨ë“ˆë³„ on/off, ì„¸ë¶€ ì˜µì…˜ ë“±)
- **core/**: SDK ì´ˆê¸°í™”, ì„¸ì…˜/ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ë“± í•µì‹¬ ë¡œì§
- **tracking/**: ê° íŠ¸ë˜í‚¹ë³„ ëª¨ë“ˆ(click, form, popup, resource, scroll, exit, pageview)
- **user-attributes.js**: ìœ ì € ì†ì„± ì¶”ì  ì‹œìŠ¤í…œ(ê´€ì‹¬ì‚¬, ì„¸ì…˜, í–‰ë™ ëˆ„ì  ë“±)

### ì‚¬ìš© ì˜ˆì‹œ
```js
import { initFormTracking } from './tracking/form.js';
initFormTracking();
```
> main.jsì—ì„œ ê° ëª¨ë“ˆë³„ë¡œ 1íšŒë§Œ í˜¸ì¶œí•˜ë©´ ìë™ìœ¼ë¡œ íŠ¸ë˜í‚¹ì´ ë™ì‘í•©ë‹ˆë‹¤.

---

## ì£¼ìš” íŠ¹ì§•
- **ES ëª¨ë“ˆ íŒ¨í„´**: ì „ì—­ ì˜¤ì—¼ ì—†ì´ ìœ ì§€ë³´ìˆ˜/í™•ì¥ ìš©ì´
- **ì¤‘ì•™ ì„¤ì •(config.js)**: ëª¨ë“ˆë³„ on/off, ì„¸ë¶€ ì˜µì…˜, ë””ë²„ê·¸ ë“± ì¼ê´„ ê´€ë¦¬
- **SPA ëŒ€ì‘**: ë¼ìš°íŠ¸ ë³€ê²½ ì‹œì—ë„ íŠ¸ë˜í‚¹ ì •ìƒ ë™ì‘
- **ê°œì¸ì •ë³´ ë³´í˜¸**: í¼ ì œì¶œ ì‹œ ê°œì¸ì •ë³´ ë§ˆìŠ¤í‚¹, ë™ì˜ ì²´í¬ ë“± ë‚´ì¥
- **ìœ ì € ì†ì„± ìë™í™”**: ë°©ë¬¸/ì„¸ì…˜/í–‰ë™ ê¸°ë°˜ ê´€ì‹¬ì‚¬, ì„ í˜¸ë„, ìƒëª…ì£¼ê¸° ë“± ìë™ ì¶”ì 
- **ThinkingData SDK**: ê³µì‹ JS SDK ê¸°ë°˜, ì„œë²„ì™€ ì‹¤ì‹œê°„ ì—°ë™

---

## ì»¤ìŠ¤í…€/í™•ì¥
- ìƒˆë¡œìš´ íŠ¸ë˜í‚¹ í•­ëª© ì¶”ê°€, ì†ì„± í™•ì¥, ì´ë²¤íŠ¸ ë„¤ì´ë° ë“±ì€ ê° ëª¨ë“ˆì—ì„œ ì†ì‰½ê²Œ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ ê°€ëŠ¥
- config.jsì—ì„œ ëª¨ë“ˆë³„ ì˜µì…˜/ì„ê³„ê°’/í”Œë«í¼ ë“± ììœ ë¡­ê²Œ ì¡°ì •

---

## ë¬¸ì˜
- ë‹´ë‹¹: ì§„ìš°(jinwoo@thinkingdata.kr)
- ê³µì‹ì‚¬ì´íŠ¸: https://www.thinkingdata.kr 

# Webpage Thinking - Google Search Console API í†µí•©

ì´ í”„ë¡œì íŠ¸ëŠ” Google Search Console APIë¥¼ í†µí•©í•˜ì—¬ ì›¹ì‚¬ì´íŠ¸ì˜ ê²€ìƒ‰ ì„±ê³¼ë¥¼ ë¶„ì„í•˜ê³  ëª¨ë‹ˆí„°ë§í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

- **ê²€ìƒ‰ ë¶„ì„ ë°ì´í„° ì¡°íšŒ**: ê²€ìƒ‰ì–´, í˜ì´ì§€ë³„ ì„±ê³¼ ë¶„ì„
- **URL ê²€ì‚¬ ë„êµ¬**: ê°œë³„ URLì˜ ì¸ë±ì‹± ìƒíƒœ í™•ì¸
- **ì‚¬ì´íŠ¸ë§µ ê´€ë¦¬**: ì‚¬ì´íŠ¸ë§µ ì œì¶œ ë° ëª©ë¡ ì¡°íšŒ
- **ì§€ì—­ë³„/ë””ë°”ì´ìŠ¤ë³„ ì„±ê³¼**: êµ­ê°€ ë° ë””ë°”ì´ìŠ¤ë³„ ê²€ìƒ‰ ì„±ê³¼ ë¶„ì„
- **ìë™í™”ëœ ë°ì´í„° ìˆ˜ì§‘**: ì •ê¸°ì ì¸ ë°ì´í„° ìˆ˜ì§‘ ë° ìºì‹±

## ğŸ“‹ ì„¤ì¹˜ ë° ì„¤ì •

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install googleapis
```

### 2. Google Cloud Console ì„¤ì •

1. **í”„ë¡œì íŠ¸ ìƒì„±**: [Google Cloud Console](https://console.cloud.google.com/)ì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
2. **API í™œì„±í™”**: Search Console API í™œì„±í™”
3. **ì„œë¹„ìŠ¤ ê³„ì • ìƒì„±**: IAM ë° ê´€ë¦¬ â†’ ì„œë¹„ìŠ¤ ê³„ì •ì—ì„œ ìƒˆ ì„œë¹„ìŠ¤ ê³„ì • ìƒì„±
4. **í‚¤ íŒŒì¼ ë‹¤ìš´ë¡œë“œ**: JSON í‚¤ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ì—¬ `credentials/` í´ë”ì— ì €ì¥

### 3. Search Console ì„¤ì •

1. **ì†ì„± ì¶”ê°€**: [Search Console](https://search.google.com/search-console)ì—ì„œ ì›¹ì‚¬ì´íŠ¸ ì†ì„± ì¶”ê°€
2. **ê¶Œí•œ ë¶€ì—¬**: ì†ì„± ì„¤ì • â†’ ì†Œìœ ì ë° ì‚¬ìš©ìì—ì„œ ì„œë¹„ìŠ¤ ê³„ì • ì´ë©”ì¼ ì¶”ê°€ (ì†Œìœ ì ê¶Œí•œ)

### 4. ì„¤ì • íŒŒì¼ ìˆ˜ì •

`config/search-console-config.js` íŒŒì¼ì—ì„œ ë‹¤ìŒ ì„¤ì •ì„ ìˆ˜ì •í•˜ì„¸ìš”:

```javascript
sites: {
    default: 'https://your-website.com', // ì‹¤ì œ ì›¹ì‚¬ì´íŠ¸ URLë¡œ ë³€ê²½
    properties: [
        'https://your-website.com',
        'https://www.your-website.com'
    ]
}
```

## ğŸ”§ ì‚¬ìš© ë°©ë²•

### ê¸°ë³¸ ì‚¬ìš©ë²•

```javascript
const GoogleSearchConsoleAPI = require('./google-search-console');

// API ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
const searchConsole = new GoogleSearchConsoleAPI(
    './credentials/service-account-key.json',
    'https://your-website.com'
);

// ì‚¬ì´íŠ¸ ì†Œìœ ê¶Œ í™•ì¸
const ownership = await searchConsole.verifySiteOwnership();

// ê²€ìƒ‰ ë¶„ì„ ë°ì´í„° ì¡°íšŒ
const data = await searchConsole.getSearchAnalytics(
    '2024-01-01',
    '2024-01-31',
    ['query', 'page'],
    1000
);
```

### ìƒìœ„ ê²€ìƒ‰ì–´ ì¡°íšŒ

```javascript
const topQueries = await searchConsole.getTopQueries(
    '2024-01-01',
    '2024-01-31',
    10
);

console.log('ìƒìœ„ ê²€ìƒ‰ì–´:');
topQueries.forEach((query, index) => {
    console.log(`${index + 1}. "${query.keys[0]}" - í´ë¦­: ${query.clicks}`);
});
```

### URL ê²€ì‚¬

```javascript
const inspectionResult = await searchConsole.inspectUrl(
    'https://your-website.com/specific-page'
);

console.log('ì¸ë±ì‹± ìƒíƒœ:', inspectionResult.inspectionResult.indexStatusResult?.verdict);
```

### ì‚¬ì´íŠ¸ë§µ ì œì¶œ

```javascript
await searchConsole.submitSitemap('https://your-website.com/sitemap.xml');
```

## ğŸ“Š ë°ì´í„° êµ¬ì¡°

### ê²€ìƒ‰ ë¶„ì„ ë°ì´í„°

```javascript
{
    rows: [
        {
            keys: ['ê²€ìƒ‰ì–´', 'í˜ì´ì§€URL'],
            clicks: 100,
            impressions: 1000,
            ctr: 0.1,
            position: 5.2
        }
    ],
    responseAggregationType: 'byProperty'
}
```

### URL ê²€ì‚¬ ê²°ê³¼

```javascript
{
    inspectionResult: {
        inspectionResultLink: 'https://search.google.com/search-console/inspect?...',
        indexStatusResult: {
            verdict: 'PASS',
            coverageState: 'Submitted and indexed'
        },
        mobileUsabilityResult: {
            verdict: 'PASS'
        }
    }
}
```

## ğŸ› ï¸ ê³ ê¸‰ ê¸°ëŠ¥

### ìºì‹± ì‹œìŠ¤í…œ

ë°ì´í„° ì¡°íšŒ ì„±ëŠ¥ í–¥ìƒì„ ìœ„í•´ ìºì‹± ì‹œìŠ¤í…œì„ ì œê³µí•©ë‹ˆë‹¤:

```javascript
// ìºì‹œ ì„¤ì •
const config = require('./config/search-console-config');
console.log('ìºì‹œ TTL:', config.caching.ttl); // 60ë¶„
```

### ì—ëŸ¬ ì²˜ë¦¬

ìë™ ì¬ì‹œë„ ë° ì—ëŸ¬ ì²˜ë¦¬ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

```javascript
// ì¬ì‹œë„ ì„¤ì •
const config = require('./config/search-console-config');
console.log('ìµœëŒ€ ì¬ì‹œë„:', config.errorHandling.maxRetries); // 3íšŒ
```

### ë°ì´í„° ë‚´ë³´ë‚´ê¸°

CSV ë° JSON í˜•íƒœë¡œ ë°ì´í„°ë¥¼ ë‚´ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```javascript
// ë‚´ë³´ë‚´ê¸° ì„¤ì •
const config = require('./config/search-console-config');
console.log('ë‚´ë³´ë‚´ê¸° ë””ë ‰í† ë¦¬:', config.export.directory);
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
webpage-thinking/
â”œâ”€â”€ google-search-console.js          # ë©”ì¸ API í´ë˜ìŠ¤
â”œâ”€â”€ search-console-example.js         # ì‚¬ìš© ì˜ˆì‹œ
â”œâ”€â”€ config/
â”‚   â””â”€â”€ search-console-config.js      # ì„¤ì • íŒŒì¼
â”œâ”€â”€ credentials/
â”‚   â””â”€â”€ service-account-key.json      # ì„œë¹„ìŠ¤ ê³„ì • í‚¤ (ë³„ë„ ìƒì„± í•„ìš”)
â”œâ”€â”€ cache/
â”‚   â””â”€â”€ search-console/               # ìºì‹œ íŒŒì¼ë“¤
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ search-console.log            # ë¡œê·¸ íŒŒì¼
â””â”€â”€ exports/
    â””â”€â”€ search-console/               # ë‚´ë³´ë‚´ê¸° íŒŒì¼ë“¤
```

## âš ï¸ ì£¼ì˜ì‚¬í•­

1. **API í• ë‹¹ëŸ‰**: Google Search Console APIëŠ” ì¼ì¼ í• ë‹¹ëŸ‰ì´ ìˆìŠµë‹ˆë‹¤
2. **ë°ì´í„° ì§€ì—°**: ê²€ìƒ‰ ë°ì´í„°ëŠ” ìµœëŒ€ 3ì¼ ì§€ì—°ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤
3. **ê¶Œí•œ ê´€ë¦¬**: ì„œë¹„ìŠ¤ ê³„ì • í‚¤ íŒŒì¼ì„ ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ì„¸ìš”
4. **ì‚¬ì´íŠ¸ ì†Œìœ ê¶Œ**: API ì‚¬ìš© ì „ ë°˜ë“œì‹œ ì‚¬ì´íŠ¸ ì†Œìœ ê¶Œì„ í™•ì¸í•˜ì„¸ìš”

## ğŸ”— ê´€ë ¨ ë§í¬

- [Google Search Console API ë¬¸ì„œ](https://developers.google.com/webmaster-tools/search-console-api)
- [Google Cloud Console](https://console.cloud.google.com/)
- [Search Console](https://search.google.com/search-console)

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. 